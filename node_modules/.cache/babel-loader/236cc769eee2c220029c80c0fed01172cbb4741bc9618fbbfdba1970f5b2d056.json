{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-title-box d-sm-flex align-items-center justify-content-between\"\n};\nconst _hoisted_2 = {\n  class: \"mb-sm-0\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page-title-right\"\n}, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_col = _resolveComponent(\"b-col\");\n  const _component_b_row = _resolveComponent(\"b-row\");\n  return _openBlock(), _createBlock(_component_b_row, null, {\n    default: _withCtx(() => [_createVNode(_component_b_col, {\n      cols: \"12\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"h4\", _hoisted_2, _toDisplayString($props.title) + \" \" + _toDisplayString($data.daterange), 1 /* TEXT */), _hoisted_3])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","_createBlock","_component_b_row","_createVNode","_component_b_col","cols","_hoisted_1","_hoisted_2","_toDisplayString","$props","title","$data","daterange","_hoisted_3"],"sources":["C:\\Users\\Sekou A Sidibe\\Documents\\NTA TECH\\projets\\klispay_backoffice\\v3\\src\\components\\page-header.vue"],"sourcesContent":["<script>\nimport fr from \"flatpickr/dist/l10n/fr\";\nimport Flatpickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\nimport moment from \"moment\";\n\nexport default {\n  components: {Flatpickr},\n  props: {\n    title: {\n      type: String,\n      default: \"\",\n    },\n    items: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n  },\n  computed: {\n      config(){\n          //var current_month = 12 - new Date().getMonth();\n          return   {\n              locale: fr.fr,\n              mode: \"range\",\n              dateFormat: \"Y-m-d\",\n              firstDayOfWeek: 1,\n              defaultDate: (this.selectedAnnee != null)?[this.selectedAnnee +\"-\" +new Date().getMonth()+\"-01\", this.selectedAnnee +\"-12-\"+new Date().getDay()]:[new Date().getFullYear()+'-'+ new Date().getMonth()+\"-01\", new Date().getFullYear()+'-'+new Date().getFullYear()+'-'+ new Date().getMonth()+\"-31\"],\n          }\n\n      },\n  },\n  data(){\n      return {\n          selectedAnnee: null,\n          from: '',\n          to: '',\n          daterange: null,\n\n      }\n  },\n  methods: {\n      checkDate(type){\n          console.log(type)\n          if (type === 'day')\n              return this.daterange === moment().format(\"YYYY-MM-DD\") + ' au ' + moment().format(\"YYYY-MM-DD\") || this.daterange === moment().format(\"YYYY-MM-DD\")\n          if (type === 'week')\n              return this.daterange === moment().startOf('isoWeek').format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('isoWeek') .format(\"YYYY-MM-DD\")\n          if (type === 'month')\n              return this.daterange ===moment().startOf('month') .format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('month'). format(\"YYYY-MM-DD\")\n          if (type === 'year')\n              return this.daterange ===moment().startOf('year') .format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('year'). format(\"YYYY-MM-DD\")\n\n      },\n      filterByDay() {\n          this.daterange = moment().format(\"YYYY-MM-DD\") + ' au ' + moment().format(\"YYYY-MM-DD\");\n          this.from = this.to = moment().format(\"YYYY-MM-DD\")\n          var index = this.fields.findIndex((obj) => obj.colonne === 'contrib.createdAt');\n          if (index !== -1) {\n              this.fields.splice(index, 1);\n          }\n          index = this.fields.findIndex((obj) => obj.colonne === 'contrib.createdAt');\n          if (index !== -1) {\n              this.fields.splice(index, 1);\n          }\n          this.fields.push({colonne: 'contrib.createdAt', operator: 'dateBetween', x: this.from, y:this.to})\n\n          // console.log(this.daterange)\n      },\n      filterByYesterday() {\n          this.daterange = moment().subtract(1, 'days').format(\"YYYY-MM-DD\") + ' au ' + moment().subtract(1, 'days').format(\"YYYY-MM-DD\");\n          this.from = moment().subtract(1, 'days').format(\"YYYY-MM-DD\")\n          this.to = moment().subtract(1, 'days').format(\"YYYY-MM-DD\")\n          var index = this.fields.findIndex((obj) => obj.colonne === 'contrib.createdAt');\n          if (index !== -1) {\n              this.fields.splice(index, 1);\n          }\n          index = this.fields.findIndex((obj) => obj.colonne === 'contrib.createdAt');\n          if (index !== -1) {\n              this.fields.splice(index, 1);\n          }\n          this.fields.push({colonne: 'contrib.createdAt', operator: 'dateBetween', x: this.from, y:this.to})\n          //console.log(this.daterange)\n      },\n      filterByLastWeek() {\n          this.daterange = moment().subtract(1, 'weeks').startOf('week').format(\"YYYY-MM-DD\") + ' au ' + moment().subtract(1, 'weeks').endOf('week').format(\"YYYY-MM-DD\");\n          this.from = moment().subtract(1, 'weeks').startOf('week').format(\"YYYY-MM-DD\")\n          this.to = moment().subtract(1, 'weeks').endOf('week').format(\"YYYY-MM-DD\");\n\n          //console.log(this.daterange)\n      },\n      filterByLastMonth() {\n          this.daterange = moment().subtract(1, 'months').startOf('month').format(\"YYYY-MM-DD\") + ' au ' + moment().subtract(1, 'months').endOf('month').format(\"YYYY-MM-DD\");\n          this.from = moment().subtract(1, 'months').startOf('month').format(\"YYYY-MM-DD\")\n          this.to = moment().subtract(1, 'months').endOf('month').format(\"YYYY-MM-DD\")\n\n          //console.log(this.daterange)\n      },\n      filterByWeek() {\n\n          this.daterange = moment().startOf('isoWeek').format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('isoWeek').format(\"YYYY-MM-DD\");\n          this.from = moment().startOf('isoWeek').format(\"YYYY-MM-DD\")\n          this.to = moment().endOf('isoWeek').format(\"YYYY-MM-DD\")\n          // console.log(this.daterange);\n\n      },\n      filterByMonth() {\n          this.daterange = moment().startOf('month').format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('month').format(\"YYYY-MM-DD\");\n          this.from = moment().startOf('month').format(\"YYYY-MM-DD\")\n          this.to = moment().endOf('month').format(\"YYYY-MM-DD\")\n\n      },\n      filterByYear() {\n          this.daterange = moment().startOf('year').format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('year').format(\"YYYY-MM-DD\");\n          this.from = moment().startOf('year').format(\"YYYY-MM-DD\")\n          this.to = moment().endOf('year').format(\"YYYY-MM-DD\")\n\n          // console.log(' au ' + moment().endOf('year').format(\"YYYY-MM-DD\"))\n      },\n  }\n};\n</script>\n\n<template>\n  <b-row>\n    <b-col cols=\"12\">\n      <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n        <h4 class=\"mb-sm-0\">{{ title }} {{daterange}}</h4>\n\n        <div class=\"page-title-right\">\n\n        </div>\n      </div>\n    </b-col>\n  </b-row>\n</template>\n"],"mappings":";;EA+HWA,KAAK,EAAC;AAAqE;;EAC1EA,KAAK,EAAC;AAAS;gCAEnBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAkB;;;;uBALnCE,YAAA,CAUQC,gBAAA;sBATN,MAQQ,CARRC,YAAA,CAQQC,gBAAA;MARDC,IAAI,EAAC;IAAI;wBACd,MAMM,CANNL,mBAAA,CAMM,OANNM,UAMM,GALJN,mBAAA,CAAkD,MAAlDO,UAAkD,EAAAC,gBAAA,CAA3BC,MAAA,CAAAC,KAAK,IAAG,GAAC,GAAAF,gBAAA,CAAEG,KAAA,CAAAC,SAAS,kBAE3CC,UAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}