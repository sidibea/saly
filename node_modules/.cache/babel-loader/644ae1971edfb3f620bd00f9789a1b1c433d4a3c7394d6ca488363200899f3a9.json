{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Select2 from 'vue3-select2-component';\nimport Api from \"../helpers/api\";\nexport default {\n  components: {\n    Select2\n  },\n  data() {\n    return {\n      user: null,\n      api: new Api(),\n      fields: [],\n      typeRamifications: [],\n      ramification: null\n    };\n  },\n  created() {\n    this.user = this.$store.state.currentUser;\n    let userEntite = [];\n    userEntite = this.user.affectations.filter(item => item.entite != null && item.enabled === true);\n    let userRamification = [];\n    userRamification = this.user.affectations.filter(item => item.ramification != null && item.enabled === true);\n    this.fields.push({\n      colonne: 'tram.enabled',\n      operator: 'eq',\n      value: 1,\n      connector: \"and\"\n    });\n    this.fields.push({\n      colonne: 'ent.id',\n      operator: 'in',\n      value: userEntite.map(item => item.id),\n      connector: \"and\"\n    });\n    this.fields.push({\n      colonne: 'ram.id',\n      operator: 'in',\n      value: userEntite.map(item => item.id),\n      connector: \"and\"\n    });\n    this.api.listing(\"/type_ramifications\", this.fields, \"tram.ordre\", \"asc\", 1000, 1).then(response => {\n      this.typeRamifications = response.data;\n    });\n  }\n};","map":{"version":3,"names":["Select2","Api","components","data","user","api","fields","typeRamifications","ramification","created","$store","state","currentUser","userEntite","affectations","filter","item","entite","enabled","userRamification","push","colonne","operator","value","connector","map","id","listing","then","response"],"sources":["C:\\Users\\Sekou A Sidibe\\Documents\\NTA TECH\\projets\\klispay_backoffice\\v3\\src\\components\\FiltreRamification.vue"],"sourcesContent":["<template>\r\n  <b-row>\r\n      <b-col v-for=\"type in typeRamifications\" md=\"6\" xl=\"6\" :key=\"type\">\r\n          <label for=\"nom\" class=\"form-label\">{{type.nom}}</label>\r\n          <Select2 v-model=\"ramification\" required :options=\"typeRamifications.map(item =>({id: item.id, text: item.nom}))\"     style=\"padding: 10\"/>\r\n\r\n\r\n      </b-col>\r\n  </b-row>\r\n\r\n</template>\r\n<script>\r\nimport Select2 from 'vue3-select2-component';\r\nimport Api from \"../helpers/api\";\r\n\r\nexport default {\r\n    components:{\r\n        Select2\r\n    },\r\n    data(){\r\n      return{\r\n          user: null,\r\n          api: new Api(),\r\n          fields: [],\r\n          typeRamifications: [],\r\n          ramification: null,\r\n      }\r\n    },\r\n\r\n    created() {\r\n        this.user = this.$store.state.currentUser;\r\n        let userEntite = [];\r\n        userEntite = this.user.affectations.filter(item => item.entite != null && item.enabled === true);\r\n        let userRamification = [];\r\n        userRamification = this.user.affectations.filter(item => item.ramification != null && item.enabled === true);\r\n\r\n        this.fields.push({colonne: 'tram.enabled', operator: 'eq', value: 1, connector: \"and\"})\r\n        this.fields.push({colonne: 'ent.id', operator: 'in', value: userEntite.map(item=> item.id), connector: \"and\"})\r\n        this.fields.push({colonne: 'ram.id', operator: 'in', value: userEntite.map(item=> item.id), connector: \"and\"})\r\n\r\n        this.api.listing(\"/type_ramifications\", this.fields, \"tram.ordre\", \"asc\", 1000, 1 )\r\n            .then(response => {\r\n                this.typeRamifications = response.data;\r\n            })\r\n\r\n    }\r\n\r\n}\r\n</script>"],"mappings":";AAYA,OAAOA,OAAM,MAAO,wBAAwB;AAC5C,OAAOC,GAAE,MAAO,gBAAgB;AAEhC,eAAe;EACXC,UAAU,EAAC;IACPF;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAE;IACJ,OAAM;MACFC,IAAI,EAAE,IAAI;MACVC,GAAG,EAAE,IAAIJ,GAAG,CAAC,CAAC;MACdK,MAAM,EAAE,EAAE;MACVC,iBAAiB,EAAE,EAAE;MACrBC,YAAY,EAAE;IAClB;EACF,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACL,IAAG,GAAI,IAAI,CAACM,MAAM,CAACC,KAAK,CAACC,WAAW;IACzC,IAAIC,UAAS,GAAI,EAAE;IACnBA,UAAS,GAAI,IAAI,CAACT,IAAI,CAACU,YAAY,CAACC,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACC,MAAK,IAAK,IAAG,IAAKD,IAAI,CAACE,OAAM,KAAM,IAAI,CAAC;IAChG,IAAIC,gBAAe,GAAI,EAAE;IACzBA,gBAAe,GAAI,IAAI,CAACf,IAAI,CAACU,YAAY,CAACC,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACR,YAAW,IAAK,IAAG,IAAKQ,IAAI,CAACE,OAAM,KAAM,IAAI,CAAC;IAE5G,IAAI,CAACZ,MAAM,CAACc,IAAI,CAAC;MAACC,OAAO,EAAE,cAAc;MAAEC,QAAQ,EAAE,IAAI;MAAEC,KAAK,EAAE,CAAC;MAAEC,SAAS,EAAE;IAAK,CAAC;IACtF,IAAI,CAAClB,MAAM,CAACc,IAAI,CAAC;MAACC,OAAO,EAAE,QAAQ;MAAEC,QAAQ,EAAE,IAAI;MAAEC,KAAK,EAAEV,UAAU,CAACY,GAAG,CAACT,IAAI,IAAGA,IAAI,CAACU,EAAE,CAAC;MAAEF,SAAS,EAAE;IAAK,CAAC;IAC7G,IAAI,CAAClB,MAAM,CAACc,IAAI,CAAC;MAACC,OAAO,EAAE,QAAQ;MAAEC,QAAQ,EAAE,IAAI;MAAEC,KAAK,EAAEV,UAAU,CAACY,GAAG,CAACT,IAAI,IAAGA,IAAI,CAACU,EAAE,CAAC;MAAEF,SAAS,EAAE;IAAK,CAAC;IAE7G,IAAI,CAACnB,GAAG,CAACsB,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAACrB,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE,CAAE,EAC7EsB,IAAI,CAACC,QAAO,IAAK;MACd,IAAI,CAACtB,iBAAgB,GAAIsB,QAAQ,CAAC1B,IAAI;IAC1C,CAAC;EAET;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}