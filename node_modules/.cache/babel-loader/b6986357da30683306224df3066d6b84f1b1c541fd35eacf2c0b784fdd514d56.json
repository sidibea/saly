{"ast":null,"code":"import fr from \"flatpickr/dist/l10n/fr\";\nimport Flatpickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\nimport moment from \"moment\";\nexport default {\n  components: {\n    Flatpickr\n  },\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    items: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n  computed: {\n    config() {\n      //var current_month = 12 - new Date().getMonth();\n      return {\n        locale: fr.fr,\n        mode: \"range\",\n        dateFormat: \"Y-m-d\",\n        firstDayOfWeek: 1,\n        defaultDate: this.selectedAnnee != null ? [this.selectedAnnee + \"-\" + new Date().getMonth() + \"-01\", this.selectedAnnee + \"-12-\" + new Date().getDay()] : [new Date().getFullYear() + '-' + new Date().getMonth() + \"-01\", new Date().getFullYear() + '-' + new Date().getFullYear() + '-' + new Date().getMonth() + \"-31\"]\n      };\n    }\n  },\n  methods: {\n    checkDate(type) {\n      console.log(type);\n      if (type === 'day') return this.daterange === moment().format(\"YYYY-MM-DD\") + ' au ' + moment().format(\"YYYY-MM-DD\") || this.daterange === moment().format(\"YYYY-MM-DD\");\n      if (type === 'week') return this.daterange === moment().startOf('isoWeek').format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('isoWeek').format(\"YYYY-MM-DD\");\n      if (type === 'month') return this.daterange === moment().startOf('month').format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('month').format(\"YYYY-MM-DD\");\n      if (type === 'year') return this.daterange === moment().startOf('year').format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('year').format(\"YYYY-MM-DD\");\n    }\n  }\n};","map":{"version":3,"names":["fr","Flatpickr","moment","components","props","title","type","String","default","items","Array","computed","config","locale","mode","dateFormat","firstDayOfWeek","defaultDate","selectedAnnee","Date","getMonth","getDay","getFullYear","methods","checkDate","console","log","daterange","format","startOf","endOf"],"sources":["C:\\Users\\Sekou A Sidibe\\Documents\\NTA TECH\\projets\\klispay_backoffice\\v3\\src\\components\\page-header.vue"],"sourcesContent":["<script>\nimport fr from \"flatpickr/dist/l10n/fr\";\nimport Flatpickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\nimport moment from \"moment\";\n\nexport default {\n  components: {Flatpickr},\n  props: {\n    title: {\n      type: String,\n      default: \"\",\n    },\n    items: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n  },\n  computed: {\n      config(){\n          //var current_month = 12 - new Date().getMonth();\n          return   {\n              locale: fr.fr,\n              mode: \"range\",\n              dateFormat: \"Y-m-d\",\n              firstDayOfWeek: 1,\n              defaultDate: (this.selectedAnnee != null)?[this.selectedAnnee +\"-\" +new Date().getMonth()+\"-01\", this.selectedAnnee +\"-12-\"+new Date().getDay()]:[new Date().getFullYear()+'-'+ new Date().getMonth()+\"-01\", new Date().getFullYear()+'-'+new Date().getFullYear()+'-'+ new Date().getMonth()+\"-31\"],\n          }\n\n      },\n  },\n  methods: {\n      checkDate(type){\n          console.log(type)\n          if (type === 'day')\n              return this.daterange === moment().format(\"YYYY-MM-DD\") + ' au ' + moment().format(\"YYYY-MM-DD\") || this.daterange === moment().format(\"YYYY-MM-DD\")\n          if (type === 'week')\n              return this.daterange === moment().startOf('isoWeek').format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('isoWeek') .format(\"YYYY-MM-DD\")\n          if (type === 'month')\n              return this.daterange ===moment().startOf('month') .format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('month'). format(\"YYYY-MM-DD\")\n          if (type === 'year')\n              return this.daterange ===moment().startOf('year') .format(\"YYYY-MM-DD\") + ' au ' + moment().endOf('year'). format(\"YYYY-MM-DD\")\n\n      }\n  }\n};\n</script>\n\n<template>\n  <b-row>\n    <b-col cols=\"12\">\n      <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n        <h4 class=\"mb-sm-0\">{{ title }}</h4>\n\n        <div class=\"page-title-right\">\n            <div>\n                <div style=\"display: inline\">\n                    <button v-if=\"checkDate('day')\"   @click=\"filterByDay\" class=\"btn btn-primary \">\n                        Aujourd'hui\n                    </button>\n                    <button v-else   @click=\"filterByDay\" class=\"btn btn-soft-secondary \">\n                        Aujourd'hui\n                    </button>\n                    <button  v-if=\"checkDate('week')\"   @click=\"filterByWeek\" class=\"btn btn-primary \">\n                        Cette semaine\n                    </button>\n                    <button  v-else   @click=\"filterByWeek\" class=\"btn btn-soft-secondary \">\n                        Cette semaine\n                    </button>\n                    <button v-if=\"checkDate('month')\"  @click=\"filterByMonth\" class=\"btn btn-primary \">\n                        Ce mois\n                    </button>\n                    <button v-else  @click=\"filterByMonth\" class=\"btn btn-soft-secondary \">\n                        Ce mois\n                    </button>\n                    <button v-if=\"checkDate('year')\"  @click=\"filterByYear\" class=\"btn btn-primary \">\n                        Cette année\n                    </button>\n                    <button v-else  @click=\"filterByYear\" class=\"btn btn-soft-secondary \">\n                        Cette année\n                    </button>\n                    <div  class=\"btn-group\" role=\"group\">\n                        <button id=\"btnGroupDrop1\" type=\"button\" class=\"btn btn-soft-secondary dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                            <i class=\"mdi mdi-dots-vertical align-middle\"></i>\n                        </button>\n                        <ul class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop1\" style=\"\">\n                            <li><button class=\"dropdown-item\" @click=\"filterByYesterday\">Hier</button></li>\n                            <li><button class=\"dropdown-item\" @click=\"filterByLastWeek\">Semaine dernière</button></li>\n                            <li><button class=\"dropdown-item\" @click=\"filterByLastMonth\">Mois dernier</button></li>\n                            <li><Flatpickr\n                                    @change=\"onDateChange\"\n                                    v-model=\"daterange\"\n                                    :config=\"config\"\n                                    class=\"form-control \"\n                                    placeholder=\"Select date\"/></li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n      </div>\n    </b-col>\n  </b-row>\n</template>\n"],"mappings":"AACA,OAAOA,EAAC,MAAO,wBAAwB;AACvC,OAAOC,SAAQ,MAAO,yBAAyB;AAC/C,OAAO,8BAA8B;AACrC,OAAOC,MAAK,MAAO,QAAQ;AAE3B,eAAe;EACbC,UAAU,EAAE;IAACF;EAAS,CAAC;EACvBG,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,KAAK,EAAE;MACLH,IAAI,EAAEI,KAAK;MACXF,OAAO,EAAEA,CAAA,KAAM;QACb,OAAO,EAAE;MACX;IACF;EACF,CAAC;EACDG,QAAQ,EAAE;IACNC,MAAMA,CAAA,EAAE;MACJ;MACA,OAAS;QACLC,MAAM,EAAEb,EAAE,CAACA,EAAE;QACbc,IAAI,EAAE,OAAO;QACbC,UAAU,EAAE,OAAO;QACnBC,cAAc,EAAE,CAAC;QACjBC,WAAW,EAAG,IAAI,CAACC,aAAY,IAAK,IAAI,GAAE,CAAC,IAAI,CAACA,aAAY,GAAG,GAAE,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAC,KAAK,EAAE,IAAI,CAACF,aAAY,GAAG,MAAM,GAAC,IAAIC,IAAI,CAAC,CAAC,CAACE,MAAM,CAAC,CAAC,CAAC,GAAC,CAAC,IAAIF,IAAI,CAAC,CAAC,CAACG,WAAW,CAAC,CAAC,GAAC,GAAG,GAAE,IAAIH,IAAI,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAC,KAAK,EAAE,IAAID,IAAI,CAAC,CAAC,CAACG,WAAW,CAAC,CAAC,GAAC,GAAG,GAAC,IAAIH,IAAI,CAAC,CAAC,CAACG,WAAW,CAAC,CAAC,GAAC,GAAG,GAAE,IAAIH,IAAI,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAC,KAAK;MACvS;IAEJ;EACJ,CAAC;EACDG,OAAO,EAAE;IACLC,SAASA,CAAClB,IAAI,EAAC;MACXmB,OAAO,CAACC,GAAG,CAACpB,IAAI;MAChB,IAAIA,IAAG,KAAM,KAAK,EACd,OAAO,IAAI,CAACqB,SAAQ,KAAMzB,MAAM,CAAC,CAAC,CAAC0B,MAAM,CAAC,YAAY,IAAI,MAAK,GAAI1B,MAAM,CAAC,CAAC,CAAC0B,MAAM,CAAC,YAAY,KAAK,IAAI,CAACD,SAAQ,KAAMzB,MAAM,CAAC,CAAC,CAAC0B,MAAM,CAAC,YAAY;MACvJ,IAAItB,IAAG,KAAM,MAAM,EACf,OAAO,IAAI,CAACqB,SAAQ,KAAMzB,MAAM,CAAC,CAAC,CAAC2B,OAAO,CAAC,SAAS,CAAC,CAACD,MAAM,CAAC,YAAY,IAAI,MAAK,GAAI1B,MAAM,CAAC,CAAC,CAAC4B,KAAK,CAAC,SAAS,EAAGF,MAAM,CAAC,YAAY;MACxI,IAAItB,IAAG,KAAM,OAAO,EAChB,OAAO,IAAI,CAACqB,SAAQ,KAAKzB,MAAM,CAAC,CAAC,CAAC2B,OAAO,CAAC,OAAO,EAAGD,MAAM,CAAC,YAAY,IAAI,MAAK,GAAI1B,MAAM,CAAC,CAAC,CAAC4B,KAAK,CAAC,OAAO,CAAC,CAAEF,MAAM,CAAC,YAAY;MACpI,IAAItB,IAAG,KAAM,MAAM,EACf,OAAO,IAAI,CAACqB,SAAQ,KAAKzB,MAAM,CAAC,CAAC,CAAC2B,OAAO,CAAC,MAAM,EAAGD,MAAM,CAAC,YAAY,IAAI,MAAK,GAAI1B,MAAM,CAAC,CAAC,CAAC4B,KAAK,CAAC,MAAM,CAAC,CAAEF,MAAM,CAAC,YAAY;IAEtI;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}