{"ast":null,"code":"import Layout from \"@/layouts/main.vue\";\nimport PageHeader from \"@/components/page-header\";\nimport ListingMixin from \"@/mixins/listing\";\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/css/index.css';\nimport Select2 from 'vue3-select2-component';\nimport UserMixins from \"@/mixins/userMixins\";\nexport default {\n  mixins: [ListingMixin, UserMixins],\n  components: {\n    Layout,\n    PageHeader,\n    Loading,\n    Select2\n  },\n  data() {\n    return {\n      url: \"/ramifications\",\n      sortOrder: 'desc',\n      searchKey: \"\",\n      orderBy: 'ram.nom',\n      from: '',\n      to: '',\n      daterange: null,\n      selectedRamification: null,\n      childs: null,\n      colonnes: [{\n        text: 'id',\n        value: 'id',\n        name: 'ram.id'\n      }, {\n        text: 'nom',\n        name: 'ram.nom.nom'\n      }, {\n        text: 'ram',\n        name: 'ram.createdAt'\n      }, {\n        text: 'ram',\n        name: 'ram.updatedAt'\n      }],\n      isLoading: false,\n      title: \"Liste des sous-entités\",\n      items: [{\n        text: \"Tableau de bord\",\n        href: \"/\"\n      }, {\n        text: \"collectivités\",\n        href: \"/\"\n      }, {\n        text: \"configurations\",\n        active: true\n      }]\n    };\n  },\n  methods: {\n    refresh() {\n      this.fillTable();\n    }\n  },\n  created() {\n    this.selectedAnnee = this.$store.state.selectedAnnee;\n    //this.fields.push({colonne: 'ram.id', operator: 'in', value: this.$store.state.userRamifications.map(item => item.id), connector: 'and'})\n\n    this.refresh();\n  }\n};","map":{"version":3,"names":["Layout","PageHeader","ListingMixin","Loading","Select2","UserMixins","mixins","components","data","url","sortOrder","searchKey","orderBy","from","to","daterange","selectedRamification","childs","colonnes","text","value","name","isLoading","title","items","href","active","methods","refresh","fillTable","created","selectedAnnee","$store","state"],"sources":["C:\\Users\\Sekou A Sidibe\\Documents\\NTA TECH\\projets\\klispay_backoffice\\v3\\src\\views\\configurations\\ramifications\\liste.vue"],"sourcesContent":["<script>\r\nimport Layout from \"@/layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport ListingMixin from \"@/mixins/listing\"\r\nimport Loading from 'vue-loading-overlay';\r\nimport 'vue-loading-overlay/dist/css/index.css';\r\nimport Select2 from 'vue3-select2-component';\r\nimport UserMixins from \"@/mixins/userMixins\";\r\nexport default{\r\n    mixins:[ListingMixin, UserMixins],\r\n\r\n    components: {\r\n        Layout,\r\n        PageHeader,\r\n        Loading,\r\n        Select2\r\n\r\n    },\r\n    data(){\r\n        return{\r\n            url: \"/ramifications\",\r\n            sortOrder: 'desc',\r\n            searchKey: \"\",\r\n            orderBy: 'ram.nom',\r\n            from: '',\r\n            to: '',\r\n            daterange: null,\r\n            selectedRamification: null,\r\n            childs: null,\r\n            colonnes : [\r\n                { text: 'id', value: 'id', name: 'ram.id' },\r\n                { text: 'nom',  name: 'ram.nom.nom' },\r\n                { text: 'ram',  name: 'ram.createdAt' },\r\n                { text: 'ram',  name: 'ram.updatedAt' },\r\n            ],\r\n            isLoading: false,\r\n            title: \"Liste des sous-entités\",\r\n            items: [\r\n                {\r\n                    text: \"Tableau de bord\",\r\n                    href: \"/\",\r\n                },\r\n                {\r\n                    text: \"collectivités\",\r\n                    href: \"/\",\r\n                },\r\n                {\r\n                    text: \"configurations\",\r\n                    active: true,\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    methods:{\r\n\r\n        refresh(){\r\n\r\n\r\n\r\n\r\n            this.fillTable();\r\n\r\n\r\n        },\r\n    },\r\n    created() {\r\n        this.selectedAnnee = this.$store.state.selectedAnnee;\r\n        //this.fields.push({colonne: 'ram.id', operator: 'in', value: this.$store.state.userRamifications.map(item => item.id), connector: 'and'})\r\n\r\n        this.refresh();\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n<template>\r\n    <loading v-model:active=\"isLoading\"\r\n             :can-cancel=\"false\"\r\n             :on-cancel=\"onCancel\"\r\n             :is-full-page=\"fullPage\"/>\r\n    <Layout>\r\n        <PageHeader :title=\"title\" :items=\"items\" />\r\n\r\n        <b-row>\r\n            <b-col xl=\"12\">\r\n                <b-card no-body>\r\n                    <b-card-header>\r\n                        <b-card-title>Sous-entités</b-card-title>\r\n                    </b-card-header>\r\n                    <b-card-body>\r\n                        <div class=\"row mb-3\">\r\n                            <b-col xl=\"12\" md=\"12\" sm=\"12\">\r\n                                <div class=\"d-flex align-items-center flex-wrap gap-2\">\r\n                                    <div class=\"flex-grow-1\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-4\">\r\n                                                <select2 @select=\"changeElementParPage($event)\" v-model=\"pagination.itemsPerPage\" :options=\"pageOptions\"  placeholder=\"Lignes\"></select2>\r\n\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <div class=\"flex-shrink-0\">\r\n                                        <div class=\"hstack text-nowrap gap-2\">\r\n                                            <div class=\"input-group\">\r\n\r\n                                                <input @input=\"filterQuery\" type=\"text\" v-model=\"searchKey\" placeholder=\"Recherche\" class=\"form-control d-block\" required id=\"tarif\" aria-describedby=\"basic-addon1\">\r\n                                                <span class=\"input-group-text\" id=\"basic-addon1\"><i class=\"ri ri-search-2-line\"></i></span>\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </b-col>\r\n                        </div>\r\n\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table align-middle table-nowrap mb-0\">\r\n                                <thead class=\"table-light\">\r\n                                <tr class=\"text-center text-white\">\r\n                                    <th scope=\"col\" class=\"bg-success\">\r\n                                        <div class=\"form-check\">\r\n                                            <input v-model=\"allSelected\" @click=\"selectAll\" @change=\"toggleSelectAll\" class=\"form-check-input\" type=\"checkbox\"\r\n                                                   id=\"responsivetableCheck\">\r\n                                            <label class=\"form-check-label\" for=\"responsivetableCheck\"></label>\r\n                                        </div>\r\n                                    </th>\r\n                                    <th class=\"bg-success\" scope=\"col\">#</th>\r\n                                    <th class=\"bg-success\" scope=\"col\">Parent</th>\r\n                                    <th class=\"bg-success\" scope=\"col\">Nom</th>\r\n                                    <th class=\"bg-success\" scope=\"col\">Code</th>\r\n                                    <th class=\"bg-success\" scope=\"col\">Type</th>\r\n                                    <th class=\"bg-success\" scope=\"col\">Statut</th>\r\n\r\n                                    <th class=\"bg-success\"></th>\r\n                                </tr>\r\n\r\n                                </thead>\r\n                                <tbody>\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                        <div class=\"d-flex justify-content-end mt-3\" v-if=\"tableData.length >= 1\">\r\n                            <div style=\"display: flex; justify-content: flex-end\"\r\n                                 class=\"dataTables_paginate paging_simple_numbers text-end\" id=\"scroll-horizontal_paginate\">\r\n                                <ul class=\"pagination\">\r\n                                    <li v-if=\"pagination.totalPages<=1\" class=\"paginate_button page-item previous disabled\"\r\n                                        id=\"scroll-horizontal_previous\">\r\n                                        <button @click=\"goToPage((pagination.currentPage-1))\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"0\"\r\n                                                tabindex=\"0\" class=\"page-link\">Précédent\r\n                                        </button>\r\n                                    </li>\r\n                                    <li v-else-if=\"pagination.totalPages>1\" class=\"paginate_button page-item previous\"\r\n                                        id=\"scroll-horizontal_previous\">\r\n                                        <button @click=\"goToPage((pagination.currentPage-1))\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"0\"\r\n                                                tabindex=\"0\" class=\"page-link\">Précédent\r\n                                        </button>\r\n                                    </li>\r\n                                    <li v-for=\"page in pages\" :key=\"page\" class=\"paginate_button page-item\">\r\n                                        <button v-if=\"pagination.currentPage === page\" @click=\"goToPage(page)\" aria-controls=\"scroll-horizontal\"\r\n                                                data-dt-idx=\"1\" tabindex=\"0\" class=\"page-link active\">{{ page }}\r\n                                        </button>\r\n                                        <button v-else @click=\"goToPage(page)\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"1\"\r\n                                                tabindex=\"0\" class=\"btn btn-light\">{{ page }}\r\n                                        </button>\r\n\r\n                                    </li>\r\n                                    <li v-if=\"pagination.totalPages<=1\" class=\"paginate_button page-item next disabled\" id=\"scroll-horizontal_next\">\r\n                                        <button @click=\"goToPage((pagination.currentPage+1))\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"3\"\r\n                                                tabindex=\"0\" class=\"page-link\">Suivant\r\n                                        </button>\r\n                                    </li>\r\n                                    <li v-else-if=\"pagination.totalPages>1\" class=\"paginate_button page-item next \" id=\"scroll-horizontal_next\">\r\n                                        <button @click=\"goToPage((pagination.currentPage+1))\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"3\"\r\n                                                tabindex=\"0\" class=\"page-link\">Suivant\r\n                                        </button>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </b-card-body>\r\n                </b-card>\r\n            </b-col>\r\n        </b-row>\r\n    </Layout>\r\n</template>"],"mappings":"AACA,OAAOA,MAAK,MAAO,oBAAoB;AACvC,OAAOC,UAAS,MAAO,0BAA0B;AACjD,OAAOC,YAAW,MAAO,kBAAiB;AAC1C,OAAOC,OAAM,MAAO,qBAAqB;AACzC,OAAO,wCAAwC;AAC/C,OAAOC,OAAM,MAAO,wBAAwB;AAC5C,OAAOC,UAAS,MAAO,qBAAqB;AAC5C,eAAc;EACVC,MAAM,EAAC,CAACJ,YAAY,EAAEG,UAAU,CAAC;EAEjCE,UAAU,EAAE;IACRP,MAAM;IACNC,UAAU;IACVE,OAAO;IACPC;EAEJ,CAAC;EACDI,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,GAAG,EAAE,gBAAgB;MACrBC,SAAS,EAAE,MAAM;MACjBC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,SAAS;MAClBC,IAAI,EAAE,EAAE;MACRC,EAAE,EAAE,EAAE;MACNC,SAAS,EAAE,IAAI;MACfC,oBAAoB,EAAE,IAAI;MAC1BC,MAAM,EAAE,IAAI;MACZC,QAAO,EAAI,CACP;QAAEC,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE,IAAI;QAAEC,IAAI,EAAE;MAAS,CAAC,EAC3C;QAAEF,IAAI,EAAE,KAAK;QAAGE,IAAI,EAAE;MAAc,CAAC,EACrC;QAAEF,IAAI,EAAE,KAAK;QAAGE,IAAI,EAAE;MAAgB,CAAC,EACvC;QAAEF,IAAI,EAAE,KAAK;QAAGE,IAAI,EAAE;MAAgB,CAAC,CAC1C;MACDC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE,wBAAwB;MAC/BC,KAAK,EAAE,CACH;QACIL,IAAI,EAAE,iBAAiB;QACvBM,IAAI,EAAE;MACV,CAAC,EACD;QACIN,IAAI,EAAE,eAAe;QACrBM,IAAI,EAAE;MACV,CAAC,EACD;QACIN,IAAI,EAAE,gBAAgB;QACtBO,MAAM,EAAE;MACZ,CAAC;IAET;EACJ,CAAC;EACDC,OAAO,EAAC;IAEJC,OAAOA,CAAA,EAAE;MAKL,IAAI,CAACC,SAAS,CAAC,CAAC;IAGpB;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,aAAY,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,aAAa;IACpD;;IAEA,IAAI,CAACH,OAAO,CAAC,CAAC;EAElB;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}