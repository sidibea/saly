{"ast":null,"code":"import Layout from \"@/layouts/main.vue\";\nimport PageHeader from \"@/components/page-header\";\nimport ListingMixin from \"@/mixins/listing\";\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/css/index.css';\nexport default {\n  mixins: [ListingMixin],\n  components: {\n    Layout,\n    PageHeader,\n    Loading\n  },\n  data() {\n    return {\n      url: \"/contribuables\",\n      sortOrder: 'desc',\n      searchKey: \"\",\n      orderBy: 'contrib.createdAt',\n      colonnes: [{\n        text: 'id',\n        value: 'id',\n        name: 'contrib.id'\n      }, {\n        text: 'nom',\n        name: 'contrib.nom'\n      }, {\n        text: 'prenom',\n        name: 'contrib.prenom'\n      }],\n      isLoading: false,\n      title: \"Liste des contribuables\",\n      items: [{\n        text: \"Tableau de bord\",\n        href: \"/\"\n      }, {\n        text: \"collectivités\",\n        href: \"/\"\n      }, {\n        text: \"contribuables\",\n        active: true\n      }]\n    };\n  },\n  methods: {\n    refresh() {\n      this.isLoading = true;\n      var index;\n      index = this.fields.findIndex(obj => obj.colonne === 'tram.ordre');\n      if (index !== -1) {\n        this.fields.splice(index, 1);\n      }\n      index = this.fields.findIndex(obj => obj.colonne === 'tram.enabled');\n      if (index !== -1) {\n        this.fields.splice(index, 1);\n      }\n      this.fillTable();\n    }\n  },\n  created() {\n    this.refresh();\n  }\n};","map":{"version":3,"names":["Layout","PageHeader","ListingMixin","Loading","mixins","components","data","url","sortOrder","searchKey","orderBy","colonnes","text","value","name","isLoading","title","items","href","active","methods","refresh","index","fields","findIndex","obj","colonne","splice","fillTable","created"],"sources":["C:\\Users\\Sekou A Sidibe\\Documents\\NTA TECH\\projets\\klispay_backoffice\\v3\\src\\views\\contribuables\\liste.vue"],"sourcesContent":["<script>\r\nimport Layout from \"@/layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport ListingMixin from \"@/mixins/listing\"\r\nimport Loading from 'vue-loading-overlay';\r\nimport 'vue-loading-overlay/dist/css/index.css';\r\nexport default{\r\n    mixins:[ListingMixin],\r\n\r\n    components: {\r\n        Layout,\r\n        PageHeader,\r\n        Loading\r\n\r\n    },\r\n    data(){\r\n        return{\r\n            url: \"/contribuables\",\r\n            sortOrder: 'desc',\r\n            searchKey: \"\",\r\n            orderBy: 'contrib.createdAt',\r\n            colonnes : [\r\n                { text: 'id', value: 'id', name: 'contrib.id' },\r\n                { text: 'nom',  name: 'contrib.nom' },\r\n                { text: 'prenom',  name: 'contrib.prenom' },\r\n            ],\r\n            isLoading: false,\r\n            title: \"Liste des contribuables\",\r\n            items: [\r\n                {\r\n                    text: \"Tableau de bord\",\r\n                    href: \"/\",\r\n                },\r\n                {\r\n                    text: \"collectivités\",\r\n                    href: \"/\",\r\n                },\r\n                {\r\n                    text: \"contribuables\",\r\n                    active: true,\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    methods:{\r\n        refresh(){\r\n            this.isLoading =true\r\n            var index;\r\n            index = this.fields.findIndex((obj) => obj.colonne === 'tram.ordre');\r\n            if (index !== -1) {\r\n                this.fields.splice(index, 1);\r\n            }\r\n            index = this.fields.findIndex((obj) => obj.colonne === 'tram.enabled');\r\n            if (index !== -1) {\r\n                this.fields.splice(index, 1);\r\n            }\r\n            this.fillTable();\r\n\r\n\r\n        },\r\n    },\r\n    created() {\r\n        this.refresh();\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n<template>\r\n    <loading v-model:active=\"isLoading\"\r\n             :can-cancel=\"false\"\r\n             :on-cancel=\"onCancel\"\r\n             :is-full-page=\"fullPage\"/>\r\n    <Layout>\r\n        <PageHeader :title=\"title\" :items=\"items\" />\r\n        <b-row>\r\n            <b-col xl=\"12\">\r\n                <b-card no-body>\r\n                    <b-card-header>\r\n                        <b-card-title>Contribuables</b-card-title>\r\n                    </b-card-header>\r\n                    <b-card-body>\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table align-middle table-nowrap mb-0\">\r\n                                <thead class=\"table-light\">\r\n                                <tr class=\"text-center text-white\">\r\n                                    <th scope=\"col\" class=\"bg-success\">\r\n                                        <div class=\"form-check\">\r\n                                            <input v-model=\"allSelected\" @click=\"selectAll\" @change=\"toggleSelectAll\" class=\"form-check-input\" type=\"checkbox\"\r\n                                                   id=\"responsivetableCheck\">\r\n                                            <label class=\"form-check-label\" for=\"responsivetableCheck\"></label>\r\n                                        </div>\r\n                                    </th>\r\n                                    <th class=\"bg-success\" scope=\"col\">#</th>\r\n                                    <th class=\"bg-success\" scope=\"col\" colspan=\"2\">Date</th>\r\n                                    <th class=\"bg-success\" scope=\"col\" colspan=\"5\">Contribuable</th>\r\n                                    <th class=\"bg-success\" scope=\"col\">Base taxable</th>\r\n                                    <th class=\"bg-success\" colspan=\"3\" scope=\"col\">Situations fiscale</th>\r\n                                    <th class=\"bg-success\" colspan=\"2\" scope=\"col\">Agent</th>\r\n                                    <!--                      <th class=\"bg-success\" colspan=\"3\" scope=\"col\">Validation</th>-->\r\n                                    <th class=\"bg-success\"></th>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th></th>\r\n                                    <th></th>\r\n                                    <th  aria-sort=\"ascending\" style=\"cursor: pointer\">Date</th>\r\n                                    <th>Heure</th>\r\n                                    <th  style=\"cursor: pointer\">N° Klispay</th>\r\n                                    <th style=\"cursor: pointer\">Contribuable</th>\r\n                                    <th  style=\"cursor: pointer\">Emplacement</th>\r\n                                    <th  style=\"cursor: pointer\">Telephone</th>\r\n\r\n                                    <th>Statut</th>\r\n                                    <th></th>\r\n                                    <th>Prevu</th>\r\n                                    <th>Payer</th>\r\n                                    <th>Restant</th>\r\n                                    <th  aria-sort=\"ascending\" style=\"cursor: pointer\">Pseudo</th>\r\n\r\n                                    <th>Nom </th>\r\n                                    <!--                      <th>Date <i class=\"las la-sort text-end\"></i></th>\r\n                                                          <th>Pseudo <i class=\"las la-sort text-end\"></i></th>\r\n                                                          <th>Nom <i class=\"las la-sort text-end\"></i></th>-->\r\n                                    <th></th>\r\n\r\n                                </tr>\r\n\r\n                                </thead>\r\n                                <tbody>\r\n                                <tr v-for=\"(data, index) in tableData\" :key=\"data\">\r\n                                    <td></td>\r\n                                    <td>{{index+1}}</td>\r\n                                    <td>{{formatDate(data.createdAt, \"DD-MM-YYYY\")}}</td>\r\n                                    <td>{{formatDate(data.createdAt, \"H:m:s\")}}</td>\r\n                                    <td>{{data.numKlis}}</td>\r\n                                    <td>{{data.fullName}}</td>\r\n                                    <td>{{data.ramification.nom}}</td>\r\n                                    <td>{{data.telephone}}</td>\r\n                                    <td>{{data.telephone}}</td>\r\n                                    <td>{{data.telephone}}</td>\r\n                                    <td>{{data.telephone}}</td>\r\n                                    <td>{{data.telephone}}</td>\r\n                                    <td>{{data.telephone}}</td>\r\n                                    <td>{{data.createdBy.username}}</td>\r\n                                    <td>{{data.createdBy.fullName}}</td>\r\n\r\n                                </tr>\r\n                                </tbody>\r\n                            </table>\r\n                            \r\n                        </div>\r\n                        <div class=\"d-flex justify-content-end mt-3\" v-if=\"tableData.length >= 1\">\r\n                            <div style=\"display: flex; justify-content: flex-end\"\r\n                                 class=\"dataTables_paginate paging_simple_numbers text-end\" id=\"scroll-horizontal_paginate\">\r\n                                <ul class=\"pagination\">\r\n                                    <li v-if=\"pagination.totalPages<=1\" class=\"paginate_button page-item previous disabled\"\r\n                                        id=\"scroll-horizontal_previous\">\r\n                                        <button @click=\"goToPage((pagination.currentPage-1))\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"0\"\r\n                                                tabindex=\"0\" class=\"page-link\">Précédent\r\n                                        </button>\r\n                                    </li>\r\n                                    <li v-else-if=\"pagination.totalPages>1\" class=\"paginate_button page-item previous\"\r\n                                        id=\"scroll-horizontal_previous\">\r\n                                        <button @click=\"goToPage((pagination.currentPage-1))\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"0\"\r\n                                                tabindex=\"0\" class=\"page-link\">Précédent\r\n                                        </button>\r\n                                    </li>\r\n                                    <li v-for=\"page in pages\" :key=\"page\" class=\"paginate_button page-item\">\r\n                                        <button v-if=\"pagination.currentPage === page\" @click=\"goToPage(page)\" aria-controls=\"scroll-horizontal\"\r\n                                                data-dt-idx=\"1\" tabindex=\"0\" class=\"page-link active\">{{ page }}\r\n                                        </button>\r\n                                        <button v-else @click=\"goToPage(page)\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"1\"\r\n                                                tabindex=\"0\" class=\"btn btn-light\">{{ page }}\r\n                                        </button>\r\n\r\n                                    </li>\r\n                                    <li v-if=\"pagination.totalPages<=1\" class=\"paginate_button page-item next disabled\" id=\"scroll-horizontal_next\">\r\n                                        <button @click=\"goToPage((currentPage+1))\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"3\"\r\n                                                tabindex=\"0\" class=\"page-link\">Suivant\r\n                                        </button>\r\n                                    </li>\r\n                                    <li v-else-if=\"pagination.totalPages>1\" class=\"paginate_button page-item next \" id=\"scroll-horizontal_next\">\r\n                                        <button @click=\"goToPage((currentPage+1))\" aria-controls=\"scroll-horizontal\" data-dt-idx=\"3\"\r\n                                                tabindex=\"0\" class=\"page-link\">Suivant\r\n                                        </button>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </b-card-body>\r\n                </b-card>\r\n            </b-col>\r\n        </b-row>\r\n    </Layout>\r\n</template>"],"mappings":"AACA,OAAOA,MAAK,MAAO,oBAAoB;AACvC,OAAOC,UAAS,MAAO,0BAA0B;AACjD,OAAOC,YAAW,MAAO,kBAAiB;AAC1C,OAAOC,OAAM,MAAO,qBAAqB;AACzC,OAAO,wCAAwC;AAC/C,eAAc;EACVC,MAAM,EAAC,CAACF,YAAY,CAAC;EAErBG,UAAU,EAAE;IACRL,MAAM;IACNC,UAAU;IACVE;EAEJ,CAAC;EACDG,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,GAAG,EAAE,gBAAgB;MACrBC,SAAS,EAAE,MAAM;MACjBC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,mBAAmB;MAC5BC,QAAO,EAAI,CACP;QAAEC,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE,IAAI;QAAEC,IAAI,EAAE;MAAa,CAAC,EAC/C;QAAEF,IAAI,EAAE,KAAK;QAAGE,IAAI,EAAE;MAAc,CAAC,EACrC;QAAEF,IAAI,EAAE,QAAQ;QAAGE,IAAI,EAAE;MAAiB,CAAC,CAC9C;MACDC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE,yBAAyB;MAChCC,KAAK,EAAE,CACH;QACIL,IAAI,EAAE,iBAAiB;QACvBM,IAAI,EAAE;MACV,CAAC,EACD;QACIN,IAAI,EAAE,eAAe;QACrBM,IAAI,EAAE;MACV,CAAC,EACD;QACIN,IAAI,EAAE,eAAe;QACrBO,MAAM,EAAE;MACZ,CAAC;IAET;EACJ,CAAC;EACDC,OAAO,EAAC;IACJC,OAAOA,CAAA,EAAE;MACL,IAAI,CAACN,SAAQ,GAAG,IAAG;MACnB,IAAIO,KAAK;MACTA,KAAI,GAAI,IAAI,CAACC,MAAM,CAACC,SAAS,CAAEC,GAAG,IAAKA,GAAG,CAACC,OAAM,KAAM,YAAY,CAAC;MACpE,IAAIJ,KAAI,KAAM,CAAC,CAAC,EAAE;QACd,IAAI,CAACC,MAAM,CAACI,MAAM,CAACL,KAAK,EAAE,CAAC,CAAC;MAChC;MACAA,KAAI,GAAI,IAAI,CAACC,MAAM,CAACC,SAAS,CAAEC,GAAG,IAAKA,GAAG,CAACC,OAAM,KAAM,cAAc,CAAC;MACtE,IAAIJ,KAAI,KAAM,CAAC,CAAC,EAAE;QACd,IAAI,CAACC,MAAM,CAACI,MAAM,CAACL,KAAK,EAAE,CAAC,CAAC;MAChC;MACA,IAAI,CAACM,SAAS,CAAC,CAAC;IAGpB;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACR,OAAO,CAAC,CAAC;EAElB;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}